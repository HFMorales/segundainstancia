(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],p=0,v=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&v.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(v.length)v.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var c=s[i];0!==r[c]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",{staticClass:"grey lighten-4"},[s("Navbar"),s("div",{staticClass:"mx-4 mb-4"},[s("keep-alive",[s("router-view")],1)],1)],1)],1)},n=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("v-snackbar",{attrs:{timeout:4e3,top:"",color:"success"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[s("span",[t._v("New project added.")]),s("v-btn",{attrs:{text:"",color:"white"},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),s("v-app-bar",{staticClass:"grey lighten-4",attrs:{flat:""}},[s("v-app-bar-nav-icon",{staticClass:"grey--text",on:{click:function(e){t.drawer=!t.drawer}}}),s("v-toolbar-title",{staticClass:"text-uppercase grey--text"},[s("span",{staticClass:"font-weight-light"},[t._v("Server")]),s("span",{staticClass:"font-weight-bold"},[t._v("Dashboard")])]),s("v-spacer"),s("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"grey--text",attrs:{slot:"activator",text:"",depressed:""},slot:"activator"},"v-btn",r,!1),a),[s("v-icon",{attrs:{left:""}},[t._v("expand_more")]),s("span",[t._v("Menu")])],1)]}}])},[s("v-list",t._l(t.links,(function(e){return s("v-list-item",{key:e.text,attrs:{router:"",to:e.route}},[s("v-list-item-title",[t._v(t._s(e.text))])],1)})),1)],1)],1),s("v-navigation-drawer",{staticClass:"grey lighten-4",attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-list",t._l(t.links,(function(e){return s("v-list-item",{key:e.text,attrs:{router:"",to:e.route}},[s("v-list-item-action",[s("v-icon",[t._v(t._s(e.icon))])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.text))])],1)],1)})),1)],1)],1)},i=[],c={name:"Navbar",data:function(){return{drawer:!1,links:[{icon:"developer_board",text:"GPU Overview",route:"/"},{icon:"settings",text:"Processes",route:"/processes"},{icon:"people",text:"Users",route:"/users"}],snackbar:!1}}},l=c,u=s("2877"),p=s("6544"),v=s.n(p),h=s("40dc"),d=s("5bc1"),m=s("8336"),_=s("132d"),f=s("8860"),g=s("da13"),b=s("1800"),y=s("5d23"),x=s("e449"),w=s("f774"),C=s("2db4"),k=s("2fa4"),S=s("2a7f"),P=Object(u["a"])(l,o,i,!1,null,"7f300ef6",null),V=P.exports;v()(P,{VAppBar:h["a"],VAppBarNavIcon:d["a"],VBtn:m["a"],VIcon:_["a"],VList:f["a"],VListItem:g["a"],VListItemAction:b["a"],VListItemContent:y["a"],VListItemTitle:y["b"],VMenu:x["a"],VNavigationDrawer:w["a"],VSnackbar:C["a"],VSpacer:k["a"],VToolbarTitle:S["a"]});var U={name:"App",components:{Navbar:V},data:function(){return{}}},L=U,G=s("7496"),O=s("a75b"),I=Object(u["a"])(L,r,n,!1,null,null,null),M=I.exports;v()(I,{VApp:G["a"],VContent:O["a"]});var j=s("8c4f"),T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gpu-overview"},[s("h1",{staticClass:"subtitle-1 grey--text"},[t._v("GPU Overview")]),s("v-snackbar",{attrs:{timeout:8e3,top:"",color:"red darken-4"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[s("span",[t._v("An error occurred while connecting to the servers.")]),s("v-btn",{attrs:{text:"",color:"white"},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),s("v-container",{staticClass:"mb-5"},[s("v-row",{attrs:{wrap:""}},[s("v-switch",{staticClass:"px-2 my-1 pt-5",attrs:{color:"green lighten-2",label:"Highlight free GPUs"},on:{change:function(e){return t.switchHighlightFreeGPU()}}}),s("v-switch",{staticClass:"px-2 my-1 pt-5",attrs:{color:"green lighten-2",label:"Only show servers with free GPUs"},on:{change:function(e){return t.switchShowFreeGPU()}}}),s("v-text-field",{staticClass:"px-2 my-1",attrs:{color:"purple",label:"Type in username to highlight"},on:{change:function(e){return t.store_username()}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("v-spacer"),""!==t.date?s("span",{staticClass:"grey--text pr-2 my-2 pt-5"},[t._v("Last update: "+t._s(t.date))]):t._e(),s("div",{staticClass:"my-1 pt-4"},[s("v-btn",{attrs:{text:"",color:"grey",loading:t.refreshLoading},on:{click:t.refresh}},[s("v-icon",{attrs:{left:""}},[t._v("refresh")]),s("span",[t._v("Refresh")])],1)],1)],1),s("v-row",{attrs:{wrap:""}},t._l(t.processList(),(function(e){return s("v-col",{key:e.hostname,staticClass:"my-2",attrs:{cols:"12",lg:"6"}},[s("div",{staticClass:"white"},[s("div",{staticClass:"ma-2"},[s("span",{staticClass:"grey--text text--darken-3 font-weight-bold"},[t._v(t._s(e.hostname))]),s("v-simple-table",{attrs:{dense:""}},[s("tbody",t._l(e.gpus,(function(e){return s("tr",{key:e.index,class:e.memory_used<.1*e.memory_total&&t.highlightFreeGPUs?"green lighten-4":"white"},[s("td",{staticClass:"pa-0 ma-0"},[s("span",{staticClass:"teal--text text--lighten-1"},[t._v("["+t._s(e.index)+"]")])]),s("td",{staticClass:"pa-0 ma-0"},[s("span",{staticClass:"indigo--text text--darken-4"},[t._v(t._s(e.name))])]),s("td",{staticClass:"pa-0 ma-0"},[s("span",[t._v("| ")])]),s("td",{staticClass:"pa-0 ma-0"},[e.temperature_gpu<50?s("span",{staticClass:"red--text text--darken-4"},[t._v(t._s(e.temperature_gpu)+"'C")]):t._e(),e.temperature_gpu>=50?s("span",{staticClass:"deep-orange--text text--accent-3 font-weight-bold"},[t._v(t._s(e.temperature_gpu)+"'C")]):t._e(),t._v(", ")]),s("td",{staticClass:"pa-0 ma-0"},[0===e.utilization_gpu?s("span",{staticClass:"green--text text--darken-4"},[t._v(t._s(e.utilization_gpu))]):t._e(),e.utilization_gpu>0?s("span",{staticClass:"green--text text--darken-2 font-weight-bold"},[t._v(t._s(e.utilization_gpu))]):t._e()]),s("td",[0===e.utilization_gpu?s("span",{staticClass:"green--text text--darken-4"},[t._v("%")]):t._e(),e.utilization_gpu>0?s("span",{staticClass:"green--text text--darken-2 font-weight-bold"},[t._v("%")]):t._e()]),s("td",{staticClass:"pa-0 ma-0"},[s("span",[t._v("| ")])]),s("td",{staticClass:"pa-0 ma-0"},[s("span",{staticClass:"lime--text text--darken-3 font-weight-bold"},[t._v(t._s(e.memory_used))]),t._v(" / "),s("span",{staticClass:"lime--text text--darken-4"},[t._v(t._s(e.memory_total))]),t._v(" MB ")]),s("td",{staticClass:"pa-0 ma-0"},[s("span",[t._v("| ")])]),s("td",{staticClass:"pa-0 ma-0"},[e.processes.length<=t.maxProcessesShow?s("div",{staticClass:"pa-0 ma-0"},t._l(e.processes,(function(e){return s("span",{key:e.pid,staticClass:"px-1"},[e.username===t.username&&t.highlightUsername?s("span",{staticClass:"purple--text"},[t._v(t._s(e.username))]):t._e(),e.username===t.username&&t.highlightUsername?t._e():s("span",[t._v(t._s(e.username))]),t._v(" ("),s("span",{staticClass:"lime--text text--darken-4"},[t._v(t._s(e.gpu_memory_usage))]),t._v(") ")])})),0):t._e(),e.processes.length>t.maxProcessesShow?s("div",{staticClass:"pa-0 ma-0"},[t._l(e.processes.slice(0,t.maxProcessesShow),(function(e){return s("span",{key:e.pid,staticClass:"px-1"},[e.username===t.username&&t.highlightUsername?s("span",{staticClass:"purple--text pa-0 ma-0"},[t._v(t._s(e.username))]):t._e(),e.username===t.username&&t.highlightUsername?t._e():s("span",{staticClass:"pa-0 ma-0"},[t._v(t._s(e.username))]),t._v(" ("),s("span",{staticClass:"lime--text text--darken-4"},[t._v(t._s(e.gpu_memory_usage))]),t._v(") ")])})),s("v-tooltip",{attrs:{top:"","content-class":"grey"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[s("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",r,!1),a),[s("v-icon",{attrs:{color:"grey darken-3"}},[t._v("more_horiz")])],1)]}}],null,!0)},t._l(e.processes,(function(e){return s("span",{key:e.pid,staticClass:"pa-0 ma-0"},[e.username===t.username&&t.highlightUsername?s("span",{staticClass:"purple--text pa-0 ma-0"},[t._v(t._s(e.username))]):t._e(),e.username===t.username&&t.highlightUsername?t._e():s("span",{staticClass:"pa-0 ma-0"},[t._v(t._s(e.username))]),t._v(" ("),s("span",{staticClass:"black--text text--darken-2"},[t._v(t._s(e.gpu_memory_usage))]),t._v(") ")])})),0)],2):t._e()])])})),0)])],1)])])})),1)],1)],1)},F=[],B=s("2909"),D=s("bc3a"),A=s.n(D),E=A.a.create({baseURL:"http://127.0.0.1:5000/"}),R={created:function(){this.refresh(),this.timer=setInterval(this.refresh,6e4)},beforeDestroy:function(){clearInterval(this.timer)},data:function(){return{username:localStorage.getItem("username"),servers:[],highlightFreeGPUs:!1,onlyShowFreeGPU:!1,highlightUsername:!0,maxProcessesShow:1,refreshLoading:!1,snackbar:!1,date:""}},methods:{switchHighlightFreeGPU:function(){this.highlightFreeGPUs=!this.highlightFreeGPUs},switchShowFreeGPU:function(){this.onlyShowFreeGPU=!this.onlyShowFreeGPU},store_username:function(){localStorage.setItem("username",this.username)},processList:function(){var t=Object(B["a"])(this.servers),e=[];if(this.onlyShowFreeGPU)for(var s=0;s<t.length;s++){for(var a=!1,r=0;r<t[s].gpus.length;r++)if(t[s].gpus[r].memory_used<.1*t[s].gpus[r].memory_total){a=!0;break}a&&e.push(t[s])}else e=t;return e},refresh:function(){var t=this;this.refreshLoading=!0,E.get("get-gpus").then((function(e){t.servers=e.data,t.servers.sort((function(t,e){return t.hostname<e.hostname?-1:1})),t.refreshLoading=!1,t.date=(new Date).toLocaleString("de-DE",{timeZone:"Europe/Berlin"})})).catch((function(e){console.log(e),t.refreshLoading=!1,t.snackbar=!0}))}}},z=R,N=s("62ad"),$=s("a523"),H=s("0fd9"),Z=s("1f4f"),J=s("b73d"),q=s("8654"),K=s("3a2f"),Q=Object(u["a"])(z,T,F,!1,null,null,null),W=Q.exports;v()(Q,{VBtn:m["a"],VCol:N["a"],VContainer:$["a"],VIcon:_["a"],VRow:H["a"],VSimpleTable:Z["a"],VSnackbar:C["a"],VSpacer:k["a"],VSwitch:J["a"],VTextField:q["a"],VTooltip:K["a"]});var X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"processes"},[s("h1",{staticClass:"subtitle-1 grey--text"},[t._v("Processes")]),s("v-snackbar",{attrs:{timeout:8e3,top:"",color:"red darken-4"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[s("span",[t._v("An error occurred while connecting to the servers.")]),s("v-btn",{attrs:{text:"",color:"white"},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),s("v-container",{staticClass:"my-5"},[s("v-row",{attrs:{wrap:""}},[s("v-switch",{staticClass:"px-2 my-1 pt-5",attrs:{color:"primary",label:"Only show my processes"},on:{change:function(e){return t.switchMyProc()}}}),s("v-text-field",{staticClass:"px-2 my-1",attrs:{color:"purple",label:"Type in username to filter"},on:{change:function(e){return t.store_username()}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("v-spacer"),""!==t.date?s("span",{staticClass:"grey--text pr-2 my-2"},[t._v("Last update: "+t._s(t.date))]):t._e(),s("div",{staticClass:"my-1 pt-4"},[s("v-btn",{staticClass:"my-0",attrs:{text:"",color:"grey",loading:t.refreshLoading},on:{click:t.refresh}},[s("v-icon",{attrs:{left:""}},[t._v("refresh")]),s("span",[t._v("Refresh")])],1)],1)],1),s("div",{staticClass:"my-5"},[s("v-simple-table",{attrs:{dense:""}},[s("thead",[s("tr",[s("td",[s("span",{staticClass:"font-weight-bold"},[t._v("Server")])]),s("td",[s("span",{staticClass:"font-weight-bold"},[t._v("User")])]),s("td",[s("span",{staticClass:"font-weight-bold"},[t._v("PID")])]),s("td",[s("span",{staticClass:"font-weight-bold"},[t._v("CPU")])]),s("td",[s("span",{staticClass:"font-weight-bold"},[t._v("Memory")])]),s("td",[s("span",{staticClass:"font-weight-bold"},[t._v("Start")])]),s("td",[s("span",{staticClass:"font-weight-bold"},[t._v("Time")])]),s("td",[s("span",{staticClass:"font-weight-bold"},[t._v("Command")])])])]),s("tbody",t._l(t.processList(),(function(e){return s("tr",{key:e.pid},[s("td",[s("span",[t._v(t._s(e.server))])]),s("td",[e.user===t.username?s("span",{staticClass:"purple--text"},[t._v(t._s(e.user))]):t._e(),e.user!==t.username?s("span",[t._v(t._s(e.user))]):t._e()]),s("td",[s("span",[t._v(t._s(e.pid))])]),s("td",[s("span",[t._v(t._s(e.cpu)+"%")])]),s("td",[s("span",[t._v(t._s(e.mem)+"%")])]),s("td",[s("span",[t._v(t._s(e.start))])]),s("td",[s("span",[t._v(t._s(e.time))])]),s("td",[s("span",[t._v(t._s(e.command))])])])})),0)])],1)],1)],1)},Y=[],tt={created:function(){this.refresh(),this.timer=setInterval(this.refresh,6e4)},beforeDestroy:function(){clearInterval(this.timer)},data:function(){return{username:localStorage.getItem("username"),processes:[],refreshLoading:!1,onlyShowMyProc:!1,snackbar:!1,date:""}},methods:{switchMyProc:function(){this.onlyShowMyProc=!this.onlyShowMyProc},store_username:function(){localStorage.setItem("username",this.username)},processList:function(){var t=[];if(this.onlyShowMyProc)for(var e=0;e<this.processes.length;e++)this.processes[e].user===this.username&&t.push(this.processes[e]);else t=this.processes;return t},refresh:function(){var t=this;this.refreshLoading=!0,E.get("get-processes").then((function(e){t.processes=e.data,t.refreshLoading=!1,t.date=(new Date).toLocaleString("de-DE",{timeZone:"Europe/Berlin"})})).catch((function(e){console.log(e),t.refreshLoading=!1,t.snackbar=!0}))}}},et=tt,st=Object(u["a"])(et,X,Y,!1,null,null,null),at=st.exports;v()(st,{VBtn:m["a"],VContainer:$["a"],VIcon:_["a"],VRow:H["a"],VSimpleTable:Z["a"],VSnackbar:C["a"],VSpacer:k["a"],VSwitch:J["a"],VTextField:q["a"]});var rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"users"},[s("h1",{staticClass:"subtitle-1 grey--text"},[t._v("Users")]),s("v-snackbar",{attrs:{timeout:8e3,top:"",color:"red darken-4"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[s("span",[t._v("An error occurred while connecting to the servers.")]),s("v-btn",{attrs:{text:"",color:"white"},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),s("v-container",{staticClass:"my-5"},[s("v-row",{attrs:{wrap:""}},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({attrs:{small:"",text:"",depressed:"",color:"grey--text"},on:{click:function(e){return t.sortBy("num_gpus")}}},a),[s("v-icon",{attrs:{left:"",small:""}},[t._v("filter_none")]),s("span",{staticClass:"caption"},[t._v("by number of GPUs")])],1)]}}])},[s("span",[t._v("Sort users by number of GPUs")])]),s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({attrs:{small:"",text:"",depressed:"",color:"grey--text"},on:{click:function(e){return t.sortBy("gpu_ram")}}},a),[s("v-icon",{attrs:{left:"",small:""}},[t._v("memory")]),s("span",{staticClass:"caption"},[t._v("by GPU RAM")])],1)]}}])},[s("span",[t._v("Sort users by GPU RAM")])]),s("v-spacer"),""!==t.date?s("span",{staticClass:"grey--text pr-2 my-2"},[t._v("Last update: "+t._s(t.date))]):t._e(),s("v-btn",{staticClass:"my-0",attrs:{text:"",color:"grey",loading:t.refreshLoading},on:{click:t.refresh}},[s("v-icon",{attrs:{left:""}},[t._v("refresh")]),s("span",[t._v("Refresh")])],1)],1),s("div",{staticClass:"my-10"},[s("v-simple-table",{attrs:{dense:""}},[s("thead",[s("tr",[s("td",[s("span",{staticClass:"font-weight-bold"},[t._v("User")])]),s("td",[s("span",{staticClass:"font-weight-bold"},[t._v("Number of GPUs")])]),s("td",[s("span",{staticClass:"font-weight-bold"},[t._v("GPU RAM")])])])]),s("tbody",t._l(t.processList(),(function(e){return s("tr",{key:e.username},[s("td",[s("span",[t._v(t._s(e.username))])]),s("td",[s("span",[t._v(t._s(e.num_gpus))])]),s("td",[s("span",[t._v(t._s(e.gpu_ram))])])])})),0)])],1)],1)],1)},nt=[],ot={created:function(){this.refresh(),this.timer=setInterval(this.refresh,6e4)},beforeDestroy:function(){clearInterval(this.timer)},data:function(){return{users:[],refreshLoading:!1,onlyShowMyProc:!0,snackbar:!1,date:""}},methods:{sortBy:function(t){this.users.sort((function(e,s){return e[t]>s[t]?-1:1}))},processList:function(){return this.users},refresh:function(){var t=this;this.refreshLoading=!0,E.get("get-users").then((function(e){t.users=e.data,t.refreshLoading=!1,t.date=(new Date).toLocaleString("de-DE",{timeZone:"Europe/Berlin"})})).catch((function(e){console.log(e),t.refreshLoading=!1,t.snackbar=!0}))}}},it=ot,ct=Object(u["a"])(it,rt,nt,!1,null,null,null),lt=ct.exports;v()(ct,{VBtn:m["a"],VContainer:$["a"],VIcon:_["a"],VRow:H["a"],VSimpleTable:Z["a"],VSnackbar:C["a"],VSpacer:k["a"],VTooltip:K["a"]}),a["a"].use(j["a"]);var ut=[{path:"/",name:"GPUOverview",component:W},{path:"/processes",name:"Processes",component:at},{path:"/users",name:"Users",component:lt}],pt=new j["a"]({mode:"history",base:"/",routes:ut}),vt=pt,ht=s("f309");a["a"].use(ht["a"]);var dt=new ht["a"]({});s("d1e78");a["a"].config.productionTip=!1,new a["a"]({router:vt,vuetify:dt,render:function(t){return t(M)}}).$mount("#app")}});
//# sourceMappingURL=app.ac0ffd56.js.map