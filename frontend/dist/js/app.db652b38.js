(function(t){function e(e){for(var a,o,i=e[0],l=e[1],c=e[2],p=0,h=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var l=s[i];0!==r[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),r=s("7496"),n=s("a75b"),o=function(){var t=this,e=t._self._c;return e(r["a"],[e(n["a"],{staticClass:"grey lighten-4"},[e("Navbar"),e("div",{staticClass:"mx-4 mb-4"},[e("keep-alive",[e("router-view")],1)],1)],1)],1)},i=[],l=s("40dc"),c=s("5bc1"),u=s("8336"),p=s("132d"),h=s("8860"),d=s("da13"),_=s("1800"),m=s("5d23"),g=s("e449"),v=s("f774"),f=s("2db4"),y=s("2fa4"),b=s("2a7f"),x=function(){var t=this,e=t._self._c;return e("nav",[e(f["a"],{attrs:{timeout:4e3,top:"",color:"success"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[e("span",[t._v("New project added.")]),e(u["a"],{attrs:{text:"",color:"white"},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),e(l["a"],{staticClass:"grey lighten-4",attrs:{flat:""}},[e(c["a"],{staticClass:"grey--text",on:{click:function(e){t.drawer=!t.drawer}}}),e(b["a"],{staticClass:"text-uppercase grey--text"},[e("span",{staticClass:"font-weight-light"},[t._v("Server")]),e("span",{staticClass:"font-weight-bold"},[t._v("Dashboard")])]),e(y["a"]),e(g["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(u["a"],t._g(t._b({staticClass:"grey--text",attrs:{slot:"activator",text:"",depressed:""},slot:"activator"},"v-btn",a,!1),s),[e(p["a"],{attrs:{left:""}},[t._v("expand_more")]),e("span",[t._v("Menu")])],1)]}}])},[e(h["a"],t._l(t.links,(function(s){return e(d["a"],{key:s.text,attrs:{router:"",to:s.route}},[e(m["b"],[t._v(t._s(s.text))])],1)})),1)],1)],1),e(v["a"],{staticClass:"grey lighten-4",attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(h["a"],t._l(t.links,(function(s){return e(d["a"],{key:s.text,attrs:{router:"",to:s.route}},[e(_["a"],[e(p["a"],[t._v(t._s(s.icon))])],1),e(m["a"],[e(m["b"],[t._v(t._s(s.text))])],1)],1)})),1)],1)],1)},C=[],w={name:"Navbar",data(){return{drawer:!1,links:[{icon:"developer_board",text:"GPU Overview",route:"/"},{icon:"settings",text:"Processes",route:"/processes"},{icon:"people",text:"Users",route:"/users"}],snackbar:!1}}},k=w,P=s("2877"),U=Object(P["a"])(k,x,C,!1,null,"7f300ef6",null),S=U.exports,L={name:"App",components:{Navbar:S},data:()=>({})},G=L,O=Object(P["a"])(G,o,i,!1,null,null,null),M=O.exports,j=s("8c4f"),F=s("62ad"),D=s("a523"),I=s("0fd9"),z=s("1f4f"),A=s("b73d"),B=s("8654"),R=s("3a2f"),E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"gpu-overview"},[e("h1",{staticClass:"subtitle-1 grey--text"},[t._v("GPU Overview")]),e(f["a"],{attrs:{timeout:8e3,top:"",color:"red darken-4"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[e("span",[t._v("An error occurred while connecting to the servers.")]),e(u["a"],{attrs:{text:"",color:"white"},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),e(D["a"],{staticClass:"mb-5"},[e(I["a"],{attrs:{wrap:""}},[e(A["a"],{staticClass:"px-2 my-1 pt-5",attrs:{color:"green lighten-2",label:"Highlight free GPUs"},on:{change:function(e){return t.switchHighlightFreeGPU()}}}),e(A["a"],{staticClass:"px-2 my-1 pt-5",attrs:{color:"green lighten-2",label:"Only show servers with free GPUs"},on:{change:function(e){return t.switchShowFreeGPU()}}}),e(B["a"],{staticClass:"px-2 my-1",attrs:{color:"purple",label:"Type in username to highlight"},on:{change:function(e){return t.store_username()}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e(y["a"]),""!==t.date?e("span",{staticClass:"grey--text pr-2 my-2 pt-5"},[t._v("Last update: "+t._s(t.date))]):t._e(),e("div",{staticClass:"my-1 pt-4"},[e(u["a"],{attrs:{text:"",color:"grey",loading:t.refreshLoading},on:{click:t.refresh}},[e(p["a"],{attrs:{left:""}},[t._v("refresh")]),e("span",[t._v("Refresh")])],1)],1)],1),e(I["a"],{attrs:{wrap:""}},t._l(t.processList(),(function(s){return e(F["a"],{key:s.hostname,staticClass:"my-2",attrs:{cols:"12",lg:"6"}},[e("div",{staticClass:"white"},[e("div",{staticClass:"ma-2"},[e("span",{staticClass:"grey--text text--darken-3 font-weight-bold"},[t._v(t._s(s.hostname))]),e(z["a"],{attrs:{dense:""}},[e("tbody",t._l(s.gpus,(function(s){return e("tr",{key:s.index,class:s.memory_used<.1*s.memory_total&&t.highlightFreeGPUs?"green lighten-4":"white"},[e("td",{staticClass:"pa-0 ma-0"},[e("span",{staticClass:"teal--text text--lighten-1"},[t._v("["+t._s(s.index)+"]")])]),e("td",{staticClass:"pa-0 ma-0"},[e("span",{staticClass:"indigo--text text--darken-4"},[t._v(t._s(s.name))])]),e("td",{staticClass:"pa-0 ma-0"},[e("span",[t._v("| ")])]),e("td",{staticClass:"pa-0 ma-0"},[s.temperature_gpu<50?e("span",{staticClass:"red--text text--darken-4"},[t._v(t._s(s.temperature_gpu)+"'C")]):t._e(),s.temperature_gpu>=50?e("span",{staticClass:"deep-orange--text text--accent-3 font-weight-bold"},[t._v(t._s(s.temperature_gpu)+"'C")]):t._e(),t._v(", ")]),e("td",{staticClass:"pa-0 ma-0"},[0===s.utilization_gpu?e("span",{staticClass:"green--text text--darken-4"},[t._v(t._s(s.utilization_gpu))]):t._e(),s.utilization_gpu>0?e("span",{staticClass:"green--text text--darken-2 font-weight-bold"},[t._v(t._s(s.utilization_gpu))]):t._e()]),e("td",[0===s.utilization_gpu?e("span",{staticClass:"green--text text--darken-4"},[t._v("%")]):t._e(),s.utilization_gpu>0?e("span",{staticClass:"green--text text--darken-2 font-weight-bold"},[t._v("%")]):t._e()]),e("td",{staticClass:"pa-0 ma-0"},[e("span",[t._v("| ")])]),e("td",{staticClass:"pa-0 ma-0"},[e("span",{staticClass:"lime--text text--darken-3 font-weight-bold"},[t._v(t._s(s.memory_used))]),t._v(" / "),e("span",{staticClass:"lime--text text--darken-4"},[t._v(t._s(s.memory_total))]),t._v(" MB ")]),e("td",{staticClass:"pa-0 ma-0"},[e("span",[t._v("| ")])]),e("td",{staticClass:"pa-0 ma-0"},[s.processes.length<=t.maxProcessesShow?e("div",{staticClass:"pa-0 ma-0"},t._l(s.processes,(function(s){return e("span",{key:s.pid,staticClass:"px-1"},[s.username===t.username&&t.highlightUsername?e("span",{staticClass:"purple--text"},[t._v(t._s(s.username))]):t._e(),s.username===t.username&&t.highlightUsername?t._e():e("span",[t._v(t._s(s.username))]),t._v(" ("),e("span",{staticClass:"lime--text text--darken-4"},[t._v(t._s(s.gpu_memory_usage))]),t._v(") ")])})),0):t._e(),s.processes.length>t.maxProcessesShow?e("div",{staticClass:"pa-0 ma-0"},[t._l(s.processes.slice(0,t.maxProcessesShow),(function(s){return e("span",{key:s.pid,staticClass:"px-1"},[s.username===t.username&&t.highlightUsername?e("span",{staticClass:"purple--text pa-0 ma-0"},[t._v(t._s(s.username))]):t._e(),s.username===t.username&&t.highlightUsername?t._e():e("span",{staticClass:"pa-0 ma-0"},[t._v(t._s(s.username))]),t._v(" ("),e("span",{staticClass:"lime--text text--darken-4"},[t._v(t._s(s.gpu_memory_usage))]),t._v(") ")])})),e(R["a"],{attrs:{top:"","content-class":"grey"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(u["a"],t._g(t._b({attrs:{icon:""}},"v-btn",a,!1),s),[e(p["a"],{attrs:{color:"grey darken-3"}},[t._v("more_horiz")])],1)]}}],null,!0)},t._l(s.processes,(function(s){return e("span",{key:s.pid,staticClass:"pa-0 ma-0"},[s.username===t.username&&t.highlightUsername?e("span",{staticClass:"purple--text pa-0 ma-0"},[t._v(t._s(s.username))]):t._e(),s.username===t.username&&t.highlightUsername?t._e():e("span",{staticClass:"pa-0 ma-0"},[t._v(t._s(s.username))]),t._v(" ("),e("span",{staticClass:"black--text text--darken-2"},[t._v(t._s(s.gpu_memory_usage))]),t._v(") ")])})),0)],2):t._e()])])})),0)])],1)])])})),1)],1)],1)},T=[],N=(s("14d9"),s("bc3a")),H=s.n(N);const Z=H.a.create({baseURL:"http://127.0.0.1:5000/"});var J={created(){this.refresh(),this.timer=setInterval(this.refresh,6e4)},beforeDestroy(){clearInterval(this.timer)},data(){return{username:localStorage.getItem("username"),servers:[],highlightFreeGPUs:!1,onlyShowFreeGPU:!1,highlightUsername:!0,maxProcessesShow:1,refreshLoading:!1,snackbar:!1,date:""}},methods:{switchHighlightFreeGPU(){this.highlightFreeGPUs=!this.highlightFreeGPUs},switchShowFreeGPU(){this.onlyShowFreeGPU=!this.onlyShowFreeGPU},store_username(){localStorage.setItem("username",this.username)},processList(){let t=[...this.servers],e=[];if(this.onlyShowFreeGPU)for(let s=0;s<t.length;s++){let a=!1;for(let e=0;e<t[s].gpus.length;e++)if(t[s].gpus[e].memory_used<.1*t[s].gpus[e].memory_total){a=!0;break}a&&e.push(t[s])}else e=t;return e},refresh(){this.refreshLoading=!0,Z.get("get-gpus").then(t=>{this.servers=t.data,this.servers.sort((t,e)=>t.hostname<e.hostname?-1:1),this.refreshLoading=!1,this.date=(new Date).toLocaleString("de-DE",{timeZone:"Europe/Berlin"})}).catch(t=>{console.log(t),this.refreshLoading=!1,this.snackbar=!0})}}},$=J,q=Object(P["a"])($,E,T,!1,null,null,null),K=q.exports,Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"processes"},[e("h1",{staticClass:"subtitle-1 grey--text"},[t._v("Processes")]),e(f["a"],{attrs:{timeout:8e3,top:"",color:"red darken-4"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[e("span",[t._v("An error occurred while connecting to the servers.")]),e(u["a"],{attrs:{text:"",color:"white"},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),e(D["a"],{staticClass:"my-5"},[e(I["a"],{attrs:{wrap:""}},[e(A["a"],{staticClass:"px-2 my-1 pt-5",attrs:{color:"primary",label:"Only show my processes"},on:{change:function(e){return t.switchMyProc()}}}),e(B["a"],{staticClass:"px-2 my-1",attrs:{color:"purple",label:"Type in username to filter"},on:{change:function(e){return t.store_username()}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e(y["a"]),""!==t.date?e("span",{staticClass:"grey--text pr-2 my-2"},[t._v("Last update: "+t._s(t.date))]):t._e(),e("div",{staticClass:"my-1 pt-4"},[e(u["a"],{staticClass:"my-0",attrs:{text:"",color:"grey",loading:t.refreshLoading},on:{click:t.refresh}},[e(p["a"],{attrs:{left:""}},[t._v("refresh")]),e("span",[t._v("Refresh")])],1)],1)],1),e("div",{staticClass:"my-5"},[e(z["a"],{attrs:{dense:""}},[e("thead",[e("tr",[e("td",[e("span",{staticClass:"font-weight-bold"},[t._v("Server")])]),e("td",[e("span",{staticClass:"font-weight-bold"},[t._v("User")])]),e("td",[e("span",{staticClass:"font-weight-bold"},[t._v("PID")])]),e("td",[e("span",{staticClass:"font-weight-bold"},[t._v("CPU")])]),e("td",[e("span",{staticClass:"font-weight-bold"},[t._v("Memory")])]),e("td",[e("span",{staticClass:"font-weight-bold"},[t._v("Start")])]),e("td",[e("span",{staticClass:"font-weight-bold"},[t._v("Time")])]),e("td",[e("span",{staticClass:"font-weight-bold"},[t._v("Command")])])])]),e("tbody",t._l(t.processList(),(function(s){return e("tr",{key:s.pid},[e("td",[e("span",[t._v(t._s(s.server))])]),e("td",[s.user===t.username?e("span",{staticClass:"purple--text"},[t._v(t._s(s.user))]):t._e(),s.user!==t.username?e("span",[t._v(t._s(s.user))]):t._e()]),e("td",[e("span",[t._v(t._s(s.pid))])]),e("td",[e("span",[t._v(t._s(s.cpu)+"%")])]),e("td",[e("span",[t._v(t._s(s.mem)+"%")])]),e("td",[e("span",[t._v(t._s(s.start))])]),e("td",[e("span",[t._v(t._s(s.time))])]),e("td",[e("span",[t._v(t._s(s.command))])])])})),0)])],1)],1)],1)},V=[],W={created(){this.refresh(),this.timer=setInterval(this.refresh,6e4)},beforeDestroy(){clearInterval(this.timer)},data(){return{username:localStorage.getItem("username"),processes:[],refreshLoading:!1,onlyShowMyProc:!1,snackbar:!1,date:""}},methods:{switchMyProc(){this.onlyShowMyProc=!this.onlyShowMyProc},store_username(){localStorage.setItem("username",this.username)},processList(){let t=[];if(this.onlyShowMyProc)for(let e=0;e<this.processes.length;e++)this.processes[e].user===this.username&&t.push(this.processes[e]);else t=this.processes;return t},refresh(){this.refreshLoading=!0,Z.get("get-processes").then(t=>{this.processes=t.data,this.refreshLoading=!1,this.date=(new Date).toLocaleString("de-DE",{timeZone:"Europe/Berlin"})}).catch(t=>{console.log(t),this.refreshLoading=!1,this.snackbar=!0})}}},X=W,Y=Object(P["a"])(X,Q,V,!1,null,null,null),tt=Y.exports,et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"users"},[e("h1",{staticClass:"subtitle-1 grey--text"},[t._v("Users")]),e(f["a"],{attrs:{timeout:8e3,top:"",color:"red darken-4"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[e("span",[t._v("An error occurred while connecting to the servers.")]),e(u["a"],{attrs:{text:"",color:"white"},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),e(D["a"],{staticClass:"my-5"},[e(I["a"],{attrs:{wrap:""}},[e(R["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e(u["a"],t._g({attrs:{small:"",text:"",depressed:"",color:"grey--text"},on:{click:function(e){return t.sortBy("num_gpus")}}},s),[e(p["a"],{attrs:{left:"",small:""}},[t._v("filter_none")]),e("span",{staticClass:"caption"},[t._v("by number of GPUs")])],1)]}}])},[e("span",[t._v("Sort users by number of GPUs")])]),e(R["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e(u["a"],t._g({attrs:{small:"",text:"",depressed:"",color:"grey--text"},on:{click:function(e){return t.sortBy("gpu_ram")}}},s),[e(p["a"],{attrs:{left:"",small:""}},[t._v("memory")]),e("span",{staticClass:"caption"},[t._v("by GPU RAM")])],1)]}}])},[e("span",[t._v("Sort users by GPU RAM")])]),e(y["a"]),""!==t.date?e("span",{staticClass:"grey--text pr-2 my-2"},[t._v("Last update: "+t._s(t.date))]):t._e(),e(u["a"],{staticClass:"my-0",attrs:{text:"",color:"grey",loading:t.refreshLoading},on:{click:t.refresh}},[e(p["a"],{attrs:{left:""}},[t._v("refresh")]),e("span",[t._v("Refresh")])],1)],1),e("div",{staticClass:"my-10"},[e(z["a"],{attrs:{dense:""}},[e("thead",[e("tr",[e("td",[e("span",{staticClass:"font-weight-bold"},[t._v("User")])]),e("td",[e("span",{staticClass:"font-weight-bold"},[t._v("Number of GPUs")])]),e("td",[e("span",{staticClass:"font-weight-bold"},[t._v("GPU RAM")])])])]),e("tbody",t._l(t.processList(),(function(s){return e("tr",{key:s.username},[e("td",[e("span",[t._v(t._s(s.username))])]),e("td",[e("span",[t._v(t._s(s.num_gpus))])]),e("td",[e("span",[t._v(t._s(s.gpu_ram))])])])})),0)])],1)],1)],1)},st=[],at={created(){this.refresh(),this.timer=setInterval(this.refresh,6e4)},beforeDestroy(){clearInterval(this.timer)},data(){return{users:[],refreshLoading:!1,onlyShowMyProc:!0,snackbar:!1,date:""}},methods:{sortBy(t){this.users.sort((e,s)=>e[t]>s[t]?-1:1)},processList(){return this.users},refresh(){this.refreshLoading=!0,Z.get("get-users").then(t=>{this.users=t.data,this.refreshLoading=!1,this.date=(new Date).toLocaleString("de-DE",{timeZone:"Europe/Berlin"})}).catch(t=>{console.log(t),this.refreshLoading=!1,this.snackbar=!0})}}},rt=at,nt=Object(P["a"])(rt,et,st,!1,null,null,null),ot=nt.exports;a["a"].use(j["a"]);const it=[{path:"/",name:"GPUOverview",component:K},{path:"/processes",name:"Processes",component:tt},{path:"/users",name:"Users",component:ot}],lt=new j["a"]({mode:"history",base:"/",routes:it});var ct=lt,ut=s("f309");a["a"].use(ut["a"]);var pt=new ut["a"]({});a["a"].config.productionTip=!1,new a["a"]({router:ct,vuetify:pt,render:t=>t(M)}).$mount("#app")}});
//# sourceMappingURL=app.db652b38.js.map